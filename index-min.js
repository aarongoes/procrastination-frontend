var content,step=0,prompt=document.createElement("p"),input=document.createElement("input"),nextBtn=document.createElement("button");const prompts=["What do you <a>want</a> to work on?","What are you trying to <a>avoid</a> by procrasting?","What <a>pain</a> would you feel afterwards, if you procrastinated instead of working on it?","If you <a>get it done</a>, how would you feel about yourself?","What small thing could you do <a>right now</a> to move you forward?"],summaries=["If I <a>do</a> work on my task","If I <a>don't</a> work on my task","I only have to do this <a>small thing</a> to get started"],summaryMap=[3,2,4],placeholders=["Maths homework","Difficulty and boredom","I'd feel frustrated with myself","I'd feel proud and relaxed","Put my books on my desk"];var inputs=[];function initializeElements(){content=document.getElementById("content"),prompt.id="prompt",input.id="input",input.setAttribute("type","text"),input.addEventListener("keypress",(function(t){"Enter"===t.key&&(saveStep(step),loadStep(++step))})),nextBtn.id="nextBtn",nextBtn.addEventListener("click",(function(){saveStep(step),loadStep(++step)})),loadStep(step)}function clearContent(){for(;content.firstChild;)content.removeChild(content.firstChild)}function saveStep(t){history.pushState({},""),inputs[t]=input.value}function appendPromptChildren(){clearContent(),content.appendChild(prompt),content.appendChild(input),content.appendChild(nextBtn),input.focus()}function ready(){history.pushState({},""),step++,clearContent();let t=document.createElement("h1");t.id="readyHeading",t.textContent=inputs[4],content.appendChild(t)}function notReady(){history.pushState({},""),step++,clearContent();let t=document.createElement("h1");t.textContent="Not ready yet?",content.appendChild(t);let e=document.createElement("h3");e.textContent="The task is still too big",content.appendChild(e);let n=document.createElement("p");n.textContent="Try to make it even smaller. Even just putting your books on your desk can be a way to start. Once you've made some progress towards your goal, you'll find it won't be as hard to keep going.",content.appendChild(n);let o=document.createElement("h3");o.textContent="I'm feeling tired",content.appendChild(o);let a=document.createElement("p");a.innerHTML="Let's do a little energizer. You can find it <a id='energizer' href='https://www.youtube.com/watch?v=tybOi4hjZFQ'>here</a>.",content.appendChild(a);let i=document.createElement("h3");i.textContent="I don't feel confident I can do it",content.appendChild(i);let d=document.createElement("p");d.innerHTML="Make the task smaller until you feel like you can do it. You can also use a <a id='powerpose' href='https://images.theconversation.com/files/462476/original/file-20220511-25-1kzokh.jpg'>power pose</a> to boost your confidence.",content.appendChild(d)}function loadStep(t){if(inputs[t]?input.value=inputs[t]:input.value="",t<prompts.length)appendPromptChildren(),prompt.innerHTML=prompts[t],input.setAttribute("placeholder",placeholders[t]),input.setAttribute("name","input"+t),input.id="input"+t,nextBtn.textContent="Next";else switch(t){case prompts.length:clearContent();let t=document.createElement("h1");t.textContent="Let's summarize",content.appendChild(t);for(let t=0;t<summaries.length;t++){let e=document.createElement("h3");e.id="summary"+t,e.innerHTML=summaries[t];let n=document.createElement("p");e.answer="answer"+t,n.textContent=inputs[summaryMap[t]],content.appendChild(e),content.appendChild(n)}let e=document.createElement("div");e.id="buttonWrapper";let n=document.createElement("a");n.id="notReadyBtn",n.textContent="I don't feel ready yet",n.addEventListener("click",(()=>notReady())),e.appendChild(n);let o=document.createElement("button");o.textContent="I feel ready!",o.addEventListener("click",(()=>ready())),e.appendChild(o),content.appendChild(e);break;case 5:break}}document.addEventListener("DOMContentLoaded",(function(){initializeElements()})),window.onpopstate=function(){0!=step&&loadStep(--step)};